---
title: Implémentation des publicités côté serveur dans le module en direct (SSAI)
parent: Live Module
---

<article class="bcls-article">
  <h1>Implémentation d'annonces côté serveur dans le module Live</h1>
  <summary>Dans cette rubrique, vous apprendrez comment implémenter la publicité côté serveur dans le module Live.</summary>
  <section class="bcls-section">

<h2 id="Introduction">Introduction</h2>

<p>Le module Live prend en charge l'insertion d'annonces côté serveur (SSAI), de sorte que les annonces côté serveur peuvent être demandées et affichées pendant un flux en direct. SSAI fournit ces principales fonctionnalités lors d'événements en direct :</p>

<ul>
	<li>Étant donné que les annonces sont cousues dans le flux vidéo en direct côté serveur, elles ne sont pas affectées par les bloqueurs d'annonces</li>
	<li>Les annonces sont insérées aux points de repère envoyés par votre encodeur ou vous pouvez créer un point de repère instantané à l'aide du module&nbsp;Live Control Room</li>
	<li>Vous pouvez configurer&nbsp;des<a href="#fill_slate">ardoises</a>&nbsp;de remplissage pour remplir toute heure publicitaire inutilisée</li>
</ul>

<aside class="bcls-aside bcls-aside--information">
  <ul>
    <li>Avant de pouvoir utiliser SSAI, votre compte Video Cloud doit être configuré pour la livraison dynamique et activé pour SSAI. Contactez votre gestionnaire de compte pour plus de détails.</li>
  </ul>

</aside>

<p>Cette rubrique se concentre sur les paramètres requis et le processus de demande d'une annonce côté serveur lors d'un événement en direct.</p>
</section>

<section class="bcls-section">
<h2 id="Configuring_the_server_side_ad_settings">Configuration des paramètres des annonces côté serveur</h2>

<p>Avant de pouvoir diffuser des annonces côté serveur, les paramètres des annonces côté serveur doivent être configurés. Les paramètres des annonces côté serveur définissent divers aspects de la lecture des annonces, notamment les appels publicitaires, le timing, les balises et d'autres options de configuration des annonces. Ces paramètres sont configurés dans le cadre des paramètres des annonces côté serveur dans le module Admin. Dans cet exemple, une balise d'annonce simple est définie.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-live-ad-config.png" width="600" height="900" /></figure>

<p>Pour plus d'informations, consultez <a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">Configuration des paramètres d'annonce côté serveur</a>.</p>
</section>

<section class="bcls-section">
<h2 id="fill_slate">Configuration de l'ardoise de remplissage</h2>

<p>Les ardoises de remplissage sont des vidéos qui seront affichées lorsqu'il y a des lacunes dans un saut de diffusion en direct qui ne peuvent pas être comblées avec une annonce diffusée dynamiquement. Si l'annonce demandée est plus courte que le temps de pause, l'ardoise de remplissage sera affichée afin que les spectateurs ne voient pas de lecteur vide. Vous devez configurer au moins une ardoise de remplissage avant de demander une annonce côté serveur. Les ardoises publicitaires sont configurées dans le cadre des paramètres Live dans le module Admin. Dans cet exemple, une ardoise de remplissage affichant le logo Brightcove a été définie.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-fill-slate.png" /></figure>

<p>Pour plus d'informations sur la création d'ardoises publicitaires, consultez <a href="/admin/managing-live-settings.html">Gestion des paramètres Live</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Creating_a_live_event_that_supports_server_side_ads">Création d'un événement en direct prenant en charge les annonces côté serveur</h2>

<p>Pour qu'un événement en direct affiche des annonces côté serveur, le paramètre <strong>Activer l'insertion d'annonces côté serveur (SSAI)</strong> doit être sélectionné lors de la création de l'événement. Pour plus d'informations sur la création d'un événement en direct à l'aide du module Live, reportez-vous à la section <a href="/live-module/creating-and-managing-live-events-using-live-module.html">Création et gestion d'événements en direct à l'aide du module Live</a>.</p>

<aside class="bcls-aside bcls-aside--information">Vous devez avoir configuré les paramètres d'annonce côté serveur et ajouté au moins une liste de remplissage avant de créer un événement.</aside>

<p>Pour créer un nouvel événement en direct prenant en charge les annonces côté serveur, procédez comme suit.</p>

<ol class="bcls-tasklist-restart">
	<li>Ouvrez le module Live.</li>
	<li>Dans la page Gérer les événements, cliquez sur <strong>Créer un événement</strong>.</li>
	<li>Entrez les détails de l'événement si nécessaire.</li>
	<li>Cliquez sur <strong>OPTIONS AVANCÉES</strong> pour développer les options avancées.</li>
	<li>Cochez <strong>Activer l'insertion d'annonces côté serveur (SSAI)</strong>. Cela permettra l'insertion d'annonces côté serveur.</li>
	<li>Sélectionnez une <strong>ardoise de remplissage</strong>. L'ardoise de remplissage s'affiche lorsqu'il y a des lacunes dans un saut de diffusion en direct qui ne peuvent pas être remplies avec une annonce diffusée dynamiquement.</li>
	<li>Lorsque le paramètre <strong>Audio publicitaire</strong> est coché, les niveaux audio des annonces sont normalisés en fonction de l'ajustement défini. Cela peut être utilisé comme un moyen de s'assurer que les annonces ne sont pas significativement plus fortes que le contenu. Brightcove recommande de sélectionner cette option.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-event-ssai-settings.png" width="600" height="900" /></figure>
	</li>
	<li>Cliquez sur <strong>Créer un événement</strong>.</li>
	<li>La page&nbsp;Control Room&nbsp;s'ouvre avec des détails sur l'événement en direct, y compris le point de terminaison de&nbsp;<strong>streaming (URL RTMP)</strong>&nbsp;et&nbsp;<strong>Nom du flux</strong>. Ces valeurs seront utilisées par l'encodeur.</li>
	<li>Configurez l'encodeur et démarrez le flux en direct.</li>
	<li>Par défaut, &nbsp;le lecteur d'aperçu de la salle de contrôle affiche le flux sans publicité. Les annonces ne seront pas affichées dans la salle de contrôle sauf si une configuration d'annonce en direct est sélectionnée. Utilisez la liste déroulante ci-dessous pour sélectionner une configuration d'annonce.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-select-ad-config.png" /></figure>
	</li>
	<li><strong>(Optionnel)</strong> Cliquez sur le bouton plus (<img alt="" src="/assets/images/general/18753/node18753-plus-icon.png" width="15" height="15" />) pour sélectionner une configuration publicitaire supplémentaire. Cette opération ajoutera un autre lecteur de prévisualisation sur la page de la salle de contrôle.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-two-preview-players.png" /></figure>
	</li>
</ol>

<p>Cliquez sur le bouton de volume situé sous le lecteur de prévisualisation pour contrôler quel flux audio du lecteur est actif.</p>

<aside class="bcls-aside bcls-aside--information">Si l'événement utilise des sorties RTMP, les publicités ne seront pas diffusées sur la sortie RTMP. Le flux sans publicité sera diffusé en continu.</aside> <aside class="bcls-aside bcls-aside--information">Si l'événement est utilisé par le <a href="/live-module/publishing-live-event-facebook.html">En direct sur Facebook</a> fonctionnalité dans le module Social, les publicités ne seront pas diffusées sur Facebook. Le flux sans publicité sera diffusé en continu.</aside>
</section>

<section class="bcls-section">
<h2 id="Requesting_an_ad">Demander une annonce</h2>

<p>Pour demander une annonce, cliquez sur<strong> Goto Ad</strong>. Lorsque vous cliquez dessus, la durée du saut d'annonce peut être sélectionnée.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-goto-ad.png" width="500" height="800" /></figure>

<p>Cliquez sur <strong>Insérer</strong> pour insérer un saut d'annonce dans le flux en direct. Si l'annonce ne remplit pas la totalité du temps de pause publicitaire, l'ardoise de remplissage (sélectionnée lors de la création de l'événement) s'affiche. Les annonces seront affichées dans le lecteur d'aperçu de la salle de contrôle et dans les lecteurs publiés à l'aide du module Live. Cet exemple montre comment afficher 2 annonces dans la Control Room.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-two-ad-preview.png" /></figure>
</section>

<section class="bcls-section">
<h2 id="Publishing_the_live_event">Publication de l'événement en direct</h2>

<p>Les flux en direct avec des annonces côté serveur ne peuvent pas être publiés à l'aide du module Media, ils doivent être publiés à l'aide du module Live.</p>

<p>Pour générer le code d'intégration d'un événement en direct avec des annonces côté serveur, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>Cliquez sur un événement pour ouvrir la page Salle de contrôle.</li>
	<li>Cliquez sur<strong> Publier et intégrer</strong> dans la navigation de gauche.</li>
	<li>Sélectionnez un <strong>joueur disponible</strong>. <aside class="bcls-aside bcls-aside--information">Si l'événement est configuré pour activer les publicités côté serveur (SSAI), DVR ou multi-CDN, Brightcove Player version 6.18.3 et supérieure doit être utilisé. Seuls les joueurs de la version 6.18.3 et supérieure apparaîtront dans la liste déroulante.</aside>
	</li>
	<li>Sélectionnez la <strong>configuration de l'annonce</strong> à utiliser avec le lecteur. La configuration de l'annonce déterminera quelle (s) annonce (s) apparaîtra (s) dans le lecteur.</li>
	<li>Cliquez sur l' <strong>URL du lecteur</strong> pour prévisualiser l'événement dans un navigateur ou copier le code d'intégration approprié à utiliser.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-publish.png" /></figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Publishing_a_remote_live_event">Publication d'un événement en direct distant</h2>

<p>Si vous souhaitez publier un événement en direct distant, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
  <li>
    <p>Après avoir créé votre événement en direct en suivant les étapes <a href="#Creating_a_live_event_that_supports_server_side_ads">ci-dessus</a>, revenez à la <strong>salle de contrôle</strong> du module <strong>Live</strong>.
	</li>
	<li>
    <p>Si vous connaissez la valeur de votre identifiant de configuration d'annonce, vous pouvez l'insérer dans l'URL de la playlist.</p>
    <p>Dans la salle de <strong>contrôle du</strong> module <strong>Live</strong>, copiez l'URL de <strong>lecture</strong>.</p>
    <p></p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Playback URL" src="/assets/images/live-module/remote/playback-url.png" />
    <figcaption class="bcls-caption--image">URL de lecture</figcaption>
    </figure>
    <p>Ensuite, insérez l'identifiant de configuration de l'annonce (045f90cfd55187ff6e60c8) que vous souhaitez utiliser à l'URL comme suit :</p>

	<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/<span class="bcls-highlight">045f90cfd55187ff6e60c8/</span>playlist.m3u8</code></pre>
<p>Ensuite, renommez la liste de lecture de <code translate="No">playlist.m3u8</code> à <code translate="No">playlist_ssaiM.m3u8</code>. L'actif distant devrait ressembler à ceci :</p>

	<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/045f90cfd55187ff6e60c8/<span class="bcls-highlight">playlist_ssaiM.m3u8</span></code></pre>
<p>Passez à l'étape 6 et utilisez cette URL de liste de lecture.</p>
	</li>
  <li>
    <p>Si vous ne connaissez pas la valeur de votre identifiant de configuration d'annonce, vous pouvez obtenir l'URL complète de la liste de lecture comme suit. Sélectionnez la configuration de l'annonce que vous souhaitez utiliser. </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Select ad config" src="/assets/images/live-module/remote/select-ad-config.png" />
    <figcaption class="bcls-caption--image">Sélectionner la configuration de l'annonce</figcaption>
    </figure>
	</li>
  <li>
    <p>Pour votre navigateur, ouvrez l'onglet de la console réseau. Dans ce cas, nous utilisons le navigateur Chrome.</p>
	</li>
  <li>
    <p>Dans la console réseau, recherchez « PlayList_SSAIM ». Copiez l'URL qui se termine par « Playlist_ssaim.m3u8". Vous devrez peut-être actualiser la page et rouvrir l'onglet réseau.</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Network console" src="/assets/images/live-module/remote/network-console.png" />
    <figcaption class="bcls-caption--image">Console réseau</figcaption>
    </figure>
    <aside class="bcls-aside bcls-aside--information">Étant donné que l'ID de configuration d'annonce est contenu dans l'URL, votre URL SSAI sera différente selon la configuration d'annonce que vous avez sélectionnée.</aside>
    <p>Dans cet exemple, l'URL est :</p>
    <pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/582ea6fafea84bf595f610b8ebbeeda8/playlist_ssaiM.m3u8</code></pre>
	</li>
  <li>
    <p>
      Dans Studio, accédez au module <strong>Media</strong> et créez une nouvelle ressource distante pointant vers l'URL de la liste de lecture à partir de l'étape précédente. Dans le menu de gauche, sélectionnez <strong>+ Ajouter une vidéo à distance</strong>.
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add Remote Video" src="/assets/images/live-module/remote/add-remote-video.png" width="300" height="500"/>
    <figcaption class="bcls-caption--image">Ajout de vidéos distantes</figcaption>
    </figure>
  </li>
  <li>
    <p>
      Dans l'option <strong>Ajouter une vidéo à distance,</strong> entrez un nom de <strong>vidéo</strong> et l'URL de la liste de lecture. Sélectionnez le <strong>sauvegarder</strong> bouton.
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add Remote Video dialog" src="/assets/images/live-module/remote/remote-dialog.png" />
    <figcaption class="bcls-caption--image">Boîte de dialogue Ajouter une vidéo à distance</figcaption>
    </figure>
  </li>
  <li>
    <p>
      Vous disposez maintenant d'un ID vidéo pointant vers votre flux en direct distant. Vous pouvez l'utiliser avec n'importe quel joueur de votre compte pour diffuser du contenu en direct avec des annonces côté serveur.
    </p>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Troubleshooting_live_stream_issues">Dépannage des problèmes de direct</h2>

<p>Si vous n'arrivez toujours pas à diffuser correctement votre vidéo en direct, <a href="https://supportportal.brightcove.com/create">contactez-nous</a>. Voici une liste de ce dont l'assistance aura besoin pour traiter votre demande au plus vite :</p>

<ul>
	<li>Les symptômes précis du flux. Par exemple, le flux peut ne pas s'afficher du tout, ou il peut s'afficher mais saccader. Il peut aussi se figer lors de la lecture.</li>
	<li>Est-ce que ce flux fonctionnait correctement auparavant ?</li>
	<li>L'URL du point d'entrée utilisée par votre encodeur</li>
	<li>Le logiciel et le matériel d'encodage utilisé</li>
	<li>L'URL du lecteur à laquelle vous avez publié l'événement en direct</li>
	<li>L'ID vidéo de votre ressource en direct dans Video Cloud Studio</li>
	<li>Les résultats du trace-route de votre encodeur jusqu'à l'hôte du point de publication</li>
</ul>
</section>
</article>