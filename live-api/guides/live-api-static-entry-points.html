---
title: 'API en direct : Points d'entrée statiques'
parent: Guides 
grandparent: Live API
---
 <h1>Cette page a été déplacée. Vous serez dirigé vers le <a href="https://apis.support.brightcove.com/live-api/guides/live-api-static-entry-points.html">nouvel emplacement</a> dans 3 secondes. Veuillez mettre à jour vos signets !</h1>
<script type="text/javascript">
var t = setTimeout (function () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-api-static-entry-points.html'; }, 3000) ;
</script>
<article class="bcls-article">
  <h1>API en direct : Points d'entrée statiques</h1>
  <summary>Cette rubrique explique les points d'entrée statiques et comment les implémenter à l'aide de l'API Live.</summary>




<section class="bcls-section">
<h2 id="Introduction">Introduction</h2>

<p>La fonction SEP (Static Entry Points) permet un travail dynamique de longue durée qui peut être activé et désactivé tout en conservant les URL des points d'entrée et les URL de lecture statiques et réutilisables. Cette fonctionnalité permet aux clients de configurer leur encodeur dans leurs installations ou sur le terrain et permet au client de créer sa propre logique de planification pour les canaux ou programmes en direct.</p>
</section>

<section class="bcls-section">
<h2 id="dvr_and_sep">DVR et SEP</h2>

<p>La fonction DVR est disponible pour les points d'entrée statiques, mais seulement lorsque le SEP est <strong>activé</strong>.</p>
</section>

<section class="bcls-section">
<h2 id="Creating_a_static_entry_point">Création d'un point d'entrée statique</h2>

<p>L'opération standard <a href="/live-api/references/reference.html#api-Live_Jobs-Create_a_Live_Job">Créer un travail</a> est utilisée, mais pour l'ajout de points d'entrée statiques, une propriété devra être ajoutée à la demande de travail :</p>

<pre>
<code class="language-json" translate="No">"static": true</code></pre>

<p>L'URL RTMP répondante de cette tâche sera statique et peut ensuite être réutilisée en activant/désactivant la tâche avec les opérations décrites dans les sections ci-dessous. Veuillez lire et comprendre les limitations énumérées à la fin de ce document.</p>
</section>

<section class="bcls-section">
<h2 id="max_waiting_time">Temps d'attente maximal</h2>

<p>Une fois qu'une tâche SEP est activée, elle se désactivera automatiquement après un certain temps si l'encodeur n'est pas démarré. Les règles sont les suivantes :</p>

<ul>
	<li>Si la <code translate="No">event_length</code> valeur est supérieure à 30 minutes, la tâche se terminera automatiquement dans 30 minutes par défaut. Si vous souhaitez modifier le temps d'attente, vous devrez contacter le support technique. La désactivation automatique ne peut pas être désactivée.</li>
	<li>Si la <code translate="No">event_length&nbsp;</code>valeur est inférieure à la <code translate="No">reconnect_time</code>, la tâche prendra fin dans le temps défini pour <code translate="No">event_length</code>.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Activate_static_entry_point_stream">Activer SEP Live Stream</h2>

<p>Pour activer un flux en direct d'un point d'entrée statique, envoyez la demande suivante à l'API Live :</p>

<aside class="bcls-aside bcls-aside--information">Pour pouvoir ingérer dans un point d'entrée statique, vous devez <code translate="No">activate</code> Demande d'API.</aside>

<table class="bcls-table">
	<caption class="bcls-caption--table">Flux SEP actif</caption>
	<tbody class="bcls-table__body">
		<tr>
			<th>Méthode</th>
			<td><code translate="No">PUT</code></td>
		</tr>
		<tr>
			<th>Point de terminaison</th>
			<td>
			<pre>
<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">{jobID}</span>/<strong>activate</strong></code></pre>
			</td>
		</tr>
	</tbody>
</table>

<p>Aucun corps de requête n'est requis.</p>
</section>

<section class="bcls-section">
<h2 id="Deactivate_static_entry_point_stream">Désactiver SEP Live Stream</h2>

<aside class="bcls-aside bcls-aside--warning">Arrêtez toujours l'encodeur avant de désactiver le flux. La désactivation peut ne pas se produire immédiatement, ce qui vous permet de contrôler exactement quand vos spectateurs cessent de recevoir du contenu.</aside>

<p>Pour désactiver un flux en direct d'un point d'entrée statique, envoyez la demande suivante à l'API Live :</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">Flux SEP actif</caption>
	<tbody class="bcls-table__body">
		<tr>
			<th>Méthode</th>
			<td><code translate="No">PUT</code></td>
		</tr>
		<tr>
			<th>Point de terminaison</th>
			<td>
			<pre>
<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">{jobID}</span>/<strong>deactivate</strong></code></pre>
			</td>
		</tr>
	</tbody>
</table>

<aside class="bcls-aside bcls-aside--information">Lorsque vous désactivez un point d'entrée statique, les dernières secondes du flux restent lisibles.</aside>

<p>Aucun corps de requête n'est requis.</p>
</section>

<section class="bcls-section">
<h2 id="Cancel_sep_job">Annuler une tâche SEP</h2>

<p>Pour arrêter définitivement une tâche de point d'entrée statique, vous pouvez annuler la tâche comme vous le feriez n'importe quel travail en direct, en envoyant une <code translate="No">PUT</code> demande au point de terminaison <code translate="No">/jobs/{job_id}/cancel</code>. Reportez-vous à la <a href="/live-api/references/reference.html#operation/CancelLiveJob">référence de l'API</a> pour plus de détails.</p>
</section>

<section class="bcls-section">
<h2 id="Limitations">Contraintes</h2>

<ul>
	<li>Live to VOD ne peut pas être configuré pour archiver le flux à la fin.
	<p style="font-weight:bold;">Solutions de rechange :</p>

	<ul>
		<li>Utilisez l' <a href="/live-api/guides/live-api-creating-vod-clips.html">écrêtage</a> pour archiver l'événement en direct complet sous forme de VOD. La fenêtre d'écrêtage sera disponible pour la durée standard après un événement ou jusqu'à la prochaine activation du SEP (selon la plus courte des deux éventualités).</li>
	</ul>
	</li>
	<li>Les paramètres de travail ne peuvent pas être modifiés. Ils sont actuellement liés aux paramètres qui ont initialement créé le SEP.</li>
	<li>L'activation du flux peut prendre jusqu'à 60 secondes pour que le point d'entrée soit disponible.
	<p style="font-weight:bold;">Meilleure pratique :</p>

	<p>Implémentez des notifications de la plate-forme Live pour les modifications de l'état des tâches afin d'obtenir des mises à jour en temps réel lorsqu'un travail SEP est réellement prêt.</p>

	<p style="font-weight:bold;">Solutions de rechange :</p>

	<ol>
		<li>Activez le flux au minimum 60 secondes avant le démarrage de l'encodeur.</li>
		<li>Si l'encodeur a une nouvelle tentative intégrée (Wirecast, Elemental, etc.), le flux peut être connecté immédiatement (bien qu'il y ait quelques erreurs) et les codeurs se reconnectent dès que le point d'entrée est disponible.</li>
	</ol>
	</li>
	<li>Reconnect_time est toujours applicable pour les travaux SEP sur les déconnexions d'encodeur. Si le temps de reconnexion est atteint, le travail SEP sera remis à un état désactivé.
	<p style="font-weight:bold;">Meilleure pratique :</p>

	<p>Désactivez toujours un flux via les API lorsqu'un travail est terminé et définissez le temps de reconnexion sur une période acceptable d'attente en cas de déconnexion (les coûts d'heure d'entrée sont cumulés pendant cette période d'attente).</p>
	</li>
	<li>Chaque compte ne se verra attribuer que 3 emplois SEP disponibles <em>par région</em>. Si vous atteignez la limite, vous devrez <a href="/live-api/references/reference.html#operation/CancelLiveJob">annuler</a> l'une de vos tâches SEP avant de pouvoir en créer une nouvelle.
	<p>Si vous avez atteint le nombre maximal de tâches SEP et que vous tentez d'en créer un autre, l'erreur suivante sera renvoyée :</p>

	<pre class="line-numbers">
<code class="language-json" translate="No">{
  "error": "You've reached the number of static entry points jobs you can create for your account"
}</code></pre>
      </li>
      <li>Si vous tentez d'activer plus de 5 tâches SEP à la fois, une erreur semblable à la suivante s'affiche :
<pre class="line-numbers"><code class="language-json" translate="No">{
  “message”:“Allocating additional streaming capacity to the region. Please retry your request.: no_streaming_capacity_in_region”,
  “statusCode”:500,
  “name”:“ApiError”,
  “isApiError”:true
}</code></pre>
        <p>Vous devrez attendre la fin de l'activation de certaines tâches avant de réessayer la demande.</p>
      </li>
    </ul>
</section>

<section class="bcls-section">
<h2 id="Notes">Remarques</h2>

<dl>
	<dt>Découper les travaux SEP après la désactivation</dt>
	<dd>Les utilisateurs peuvent créer des clips jusqu'à la prochaine activation du flux, ou pendant 7 jours, selon la durée la plus courte. Lorsque le flux est réactivé, les sessions d'enregistrement précédentes sont supprimées du serveur et ne peuvent plus être coupées.</dd>
	<dt>Quel est le timing pour le champ stream_start_time lorsqu'un SEP est utilisé ?</dt>
	<dd>Lorsqu'un SEP est activé qui serait considéré comme l'heure de début.</dd>
</dl>
</section>
</article>