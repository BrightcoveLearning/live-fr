---
title: 'API en direct : Insérer des métadonnées chronométrées ID3'
parent: Guides 
grandparent: Live API
---
 <h1>Cette page a été déplacée - vous serez dirigé vers le <a href="https://apis.support.brightcove.com/live-api/guides/live-api-insert-id3-timed-metadata.html">nouvel emplacement</a> dans 3 secondes. Veuillez mettre à jour vos signets !</h1>
<script type="text/javascript">
var t = setTimeout (function () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-api-insert-id3-timed-metadata.html'; }, 3000) ;
</script>
<article class="bcls-article">
  <h1>API en direct : Insérer des métadonnées programmées ID3</h1>
  <summary>Cette rubrique explique comment insérer des métadonnées chronométrées ID3 dans votre flux Live à l'aide de l'API Live.</summary>

  


<section class="bcls-section">
<h2 id="Insert_ID3_timed_metadata">Présentation</h2>

<p>Les métadonnées chronométrées ID3 sont utilisées pour envoyer des données avec un flux en direct à un moment précis dans le temps. Pour insérer des métadonnées chronométrées ID3 pour une tâche en cours, faites une <code translate="No">POST </code> demande à :</p>

<pre class="line-numbers">
<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">JOB_ID</span>/id3tag
</code></pre>

<h3>Corps de demande d'échantillon</h3>

<pre class="line-numbers">
<code class="language-json" translate="No">{
 "id3_tag": {
 "name": "cp1",
 "value": "Some information I want to send",
   "timecode": "15:50:49:16"
 }
}</code></pre>

<aside class="bcls-aside bcls-aside--warning">Note :
<ul>
  <li>Seul <code translate="No">id3_tag</code> un objet peut être soumis dans une demande</li>
	<li>Si vous utilisez la <code translate="No">timecode </code> propriété, le travail stocke uniquement la demande d'insertion la plus récente</li>
	<li>Si vous utilisez la <code translate="No">timecode </code> propriété, l'encodeur doit envoyer du code temporel au format SMPTE (HH:MM:SS:FF) stocké dans la propriété tc via OnFi</li>
	<li>Les codeurs logiciels tels que Wirecast et OBS <strong>ne prennent pas</strong> en charge le code temporel d'envoi via les paquets OnFi dans le flux RTMP</li>
	<li>Les codeurs matériels élémentaires <strong>prennent</strong> en charge le code temporel d'envoi via les paquets OnFi dans le flux RTMP</li>
	<li>La balise d'états ID3v2 <code translate="No">name</code> peut contenir jusqu'à 4 caractères.</li>
	<li><code translate="No">value</code> peut être jusqu'à 256 Ko.</li>
	<li><code translate="No">Timecode</code> est facultative - lorsqu'elle est omise, l'insertion sera immédiate.</li>
</ul>
</aside>

<ul>
</ul>

<h3>Exemple de réponse</h3>

<pre class="line-numbers">
<code class="language-json" translate="No">{
"id": "JOB_ID",
"id3_tag": {
"tag_name": "BCOV",
"tag_value": "my value"
}
}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Do_SMPTE_timecodes_exist">Les timecodes SMPTE existe-t-il dans l'entrée ?</h2>

<p>Tous les encodeurs n'envoient pas des codes temporels SMPTE. Pour vérifier s'ils existent dans votre entrée, une façon de vérifier est de regarder le chunklist VOD pour les balises comme <code class="language-html" translate="No">#VOD-TIMING:timecode=15:18:36:01,wallclock=1549047672441,tsvideo=25400,tsaudio=-1</code>. L'URL de chunklist vod doit être disponible <code class="language-html" translate="No">output_media_files[0].playback_url_vod</code> lorsque vous récupérez les informations de travail.</p>

<h2 id="Do_SMPTE_timecodes_exist">Analyser une liste de lecture en direct pour obtenir le code temporel</h2>

<p>Lorsque vous créez un travail Brightcove Live, une liste de lecture principale par défaut est renvoyée. Par exemple :</p>

<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/playlist.m3u8</code></pre>

<p>Nous aurons besoin de la playlist master VOD pour laquelle nous aurons besoin d'ajouter « _vod » à la dernière partie de notre extension URL comme <strong>playlist_vod.m3u8</strong></p>

<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/playlist_vod.m3u8</code></pre>

<p>La liste de lecture sera composée de&nbsp;plusieurs renditions/profils, que si vous « bouclez » la playlist, vous pourrez voir les rendus. Exemple :</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">
curl -i "https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/playlist_vod.m3u8"

#EXTM3U
#EXT-X-VERSION:3
#EXT-X-STREAM-INF:BANDWIDTH=4292608,CODECS="avc1.100.41,mp4a.40.2",RESOLUTION=1920x1080
profile_0/chunklist_vod.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=2654208,CODECS="avc1.100.41,mp4a.40.2",RESOLUTION=1280x720
profile_1/chunklist_vod.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=1937408,CODECS="avc1.77.41,mp4a.40.2",RESOLUTION=960x540
profile_2/chunklist_vod.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=1118208,CODECS="avc1.77.31,mp4a.40.2",RESOLUTION=640x360
profile_3/chunklist_vod.m3u8</code></pre>

<p>La liste complète des listes de lecture de rendition/profils&nbsp;ressemblera à ces URL « profile_0 » et « profile_1" :</p>

<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/profile_0/chunklist_vod.m3u8</code></pre>

<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/profile_1/chunklist_vod.m3u8</code></pre>

</section>

<section class="bcls-section">
    <ol class="bcls-tasklist-restart">
<p>Maintenant, il y a quelques options pour regarder ces playlists VOD pour vérifier le code temporel :</p>



    <li>Vous pouvez faire une commande « curl ». Exemple :</li>

<pre class="line-numbers">
<code class="language-javascript" translate="No">
curl -i "https://bcovlive-a.akamaihd.net/ade7a7b3aaea4a4d8107fb8bb262381e/eu-central-1/52725330351/profile_0/chunklist_vod.m3u8"
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:8
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-DISCONTINUITY-SEQUENCE:0
#EXT-X-INDEPENDENT-SEGMENTS
#BCOV-RENDITION-DATA-X-STREAM-INF:BANDWIDTH=4292608,RESOLUTION=1920x1080,FRAME-RATE=25.000,CODECS="mp4a.40.2,avc1.100.41"
#VOD-STARTTIMESTAMP:1573207934483
#VOD-MANIFESTSTARTTIME:1573207934483
#VOD-TOTALDELETEDDURATION:0.0
#VOD-FRAMERATE:25.0
#VOD-TIMING:timecode=null,wallclock=1573207934483,tsvideo=3480040,tsaudio=3480007
#EXT-X-PROGRAM-DATE-TIME:2019-11-08T10:12:11.871+00:00
#EXTINF:7.2,
2etzot2c_66e2f8bc56774f4b9a2e26adee46c5b3_media_2.ts
#VOD-TIMING:timecode=null,wallclock=1573207941720,tsvideo=3487240,tsaudio=3487239
#EXT-X-PROGRAM-DATE-TIME:2019-11-08T10:12:19.071+00:00</code></pre>




	
    <li>Si vous utilisez le&nbsp;navigateur Safari, vous pouvez lire la playlist principale ou l'une des chunklist. Ensuite, ouvrez l'onglet réseau des développeurs et recherchez « chunklist ». Sélectionnez l'un d'eux et regardez l'onglet Aperçu.</li>
    <figure class="bcls-figure"><img alt="" class="bcls-image--no-border" width="750" height="400" src="/assets/images/live-api/18758/0.png" /></figure>
	<li>Si vous n'avez pas Safari, vous pouvez appliquer le même processus dans un autre navigateur en utilisant le lecteur Akamai dans <code class="language-html" translate="No">http://players.akamai.com/hls/</code>. Chargez la playlist dans Akamai Player, puis ouvrez l'onglet réseau de votre navigateur et recherchez le « chunklist ».</li>
	<li>Si vous avez un mandataire, comme « Charles », c'est le même principe. Jouez l'une des playlists VOD dans le lecteur Safari ou Akamai HLS, puis filtrez les résultats dans votre proxy pour regarder l'un des morceaux renvoyés.</li>
</ol>
</section>
</article>