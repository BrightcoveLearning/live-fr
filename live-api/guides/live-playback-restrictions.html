---
title: Restrictions de lecture avec Live Streams Description : Dans cette rubrique, vous apprendrez à utiliser les restrictions de lecture avec les diffusions en direct.
parent: Guides 
grandparent: Live API
---
 <h1>Cette page a été déplacée - vous serez dirigé vers le <a href="https://apis.support.brightcove.com/live-api/guides/live-playback-restrictions.html">nouvel emplacement</a> dans 3 secondes. Veuillez mettre à jour vos signets !</h1>
<script type="text/javascript">
var t = setTimeout (function () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-playback-restrictions.html'; }, 3000) ;
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary> 
  <!-- <br>
  <aside class="bcls-aside bcls-aside--tip">This feature is available for a specific set of customers with access to the Limited Availability phase of Brightcove Playback Restrictions.</aside> -->

  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>Les restrictions de lecture peuvent être activées pour une tâche Live afin d'étendre les protections fournies par DRM, notamment :</p>
    <ul>
      <li>Limitation de la lecture à un agent utilisateur particulier</li>
      <li>Limiter le nombre d'adresses IP</li>
      <li>limiter le nombre total d'utilisateurs</li>
    </ul>

    <p>Pour un ensemble complet de restrictions, vous pouvez les configurer à l'aide de l'API des droits de lecture. Dans ce cas, vous associeriez le <code translate="No">playback_rights_id</code> avec une vidéo. Pour plus de détails, reportez-vous <a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#Asset_level_restrictions">à la</a> section Restrictions au niveau des actifs de la présentation : Document sur les restrictions de lecture Brightcove.</p>

    <p>Pour les restrictions d'exécution, vous pouvez spécifier les revendications JSON Web Token (JWT). Ces restrictions incluent la concurrence de flux et les limites des appareils. Pour plus de détails, consultez le <a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#Runtime_restrictions">Restrictions d'exécution</a> section de l'aperçu : Document sur les restrictions de lecture Brightcove.</p>

    <p>Avec les flux en direct, vous pouvez également remplacer le DRM CRT pour un utilisateur. Pour plus de détails, consultez le <a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection">Protection des clés de licence</a> section de l'aperçu : Document sur les restrictions de lecture Brightcove.</p>

    <p>Quel que soit le mode choisi, la demande de travail doit inclure un <code translate="No">videocloud.video</code> attribut pour qu'une vidéo Video Cloud soit créée et liée à la tâche en direct. L' <code translate="No">playback_rights_id</code> attribut peut être mis à jour sur la vidéo Video Cloud pour modifier les restrictions de lecture via l' <a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">API CMS</a>.</p>
    <p>Vous devrez également <a href="https://general.support.brightcove.com/developer/create-json-web-token.html">créer un jeton Web JSON (JWT)</a> avec les allégations appropriées. Le JWT devra être inclus dans toutes les demandes de serveur de licences. Si vous implémentez votre propre lecteur, vous devrez passer cette valeur dans un <code translate="No">BCOV-Auth</code> en-tête ou un paramètre de <code translate="No">bcov_auth</code> requête (en plus du jeton DRM).</p>
  </section>

  <section class="bcls-section">
    <h2 id="Create_Live_job">Créer un emploi en direct</h2>
    <p>Vous pouvez créer des travaux en direct qui utilisent des restrictions de lecture. Pour plus d'informations sur la création de diffusions en direct, consultez le <a href="/live-api/getting-started/quick-start-create-live-stream-using-brightcove-live-api.html">Créer un flux en direct à l'aide de l'API Brightcove Live</a> document.</p>

    <h3>Nouveaux champs</h3>
    <p>Les nouveaux champs suivants sont utilisés pour ajouter des restrictions de lecture à un travail en direct.</p>
    <ul>
      <li>
        <h4><code translate="No">drm</code> objet :</h4>
        <dl>
          <dt><code translate="No">require_playback_token</code>(booléen)</dt>
          <dd>Lecture Auth JWT sera requise lors de la demande de licence.</dd>
          <dt><code translate="No">check_playback_rights</code>(booléen)</dt>
          <dd>Lecture Auth JWT sera requise lors de la demande de licence. Utilise l'identifiant des droits de lecture associé à la vidéo ou à la JWT pour appliquer des restrictions.</dd>
        </dl>
      </li>
      <li>
        <h4><code translate="No">videocloud.video</code> objet :</h4>
        <aside class="bcls-aside bcls-aside--information">Notez que ce champ doit être ajouté à la vidéo à l'aide de l'API CMS <em>après</em> vous créez la tâche en direct, car elle ne peut pas être ajoutée lors de la création de la vidéo.</aside>
        <dl>
          <dt><code translate="No">playback_rights_id</code>(chaîne)</dt>
          <dd>Associe les restrictions de lecture spécifiées à une vidéo.</dd>
        </dl>
      </li> 
    </ul>

    <h3 id="Sample_request_response">Exemple de demande et de réponse</h3>
    <p>Vous trouverez ci-dessous un exemple de corps de requête d'API Live pour créer une tâche en direct avec des restrictions de lecture.</p>
    <aside class="bcls-aside bcls-aside--information">Il existe également une demande d'API CMS pour mettre à jour la vidéo créée pour le travail en direct avec le <code translate="No">playback_rights_id</code>. (Ce champ ne peut être ajouté qu'avec une demande de <strong>mise à jour vidéo</strong>. Il doit donc être ajouté une fois que la demande Live API a créé la vidéo.)</aside>

    <h3>Corps de demande d'échantillon</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;live_stream&quot;: true,
  &quot;region&quot;: &quot;us-west-2&quot;,
  &quot;reconnect_time&quot;: 300,
  &quot;ad_insertion&quot;: false,
  &quot;static&quot;: false,
  &quot;drm&quot;: {
    &quot;modes&quot;:[&quot;all&quot;],
    <span class="bcls-highlignt">&quot;require_playback_token&quot;: true,</span>
    <span class="bcls-highlignt">&quot;check_playback_rights&quot;: true</span>
  },
  &quot;live_dvr_sliding_window_duration&quot;: 300,
  &quot;videocloud&quot;: {
    &quot;live_to_vod&quot;: true,
    &quot;video&quot;: {
        &quot;name&quot;: &quot;Test EPA&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;long_description&quot;: &quot;&quot;,
        &quot;tags&quot;: [],
        &quot;reference_id&quot;: &quot;&quot;,
        &quot;link&quot;: {
            &quot;url&quot;: &quot;&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;custom_fields&quot;: {}
      }
  },  
  &quot;outputs&quot;: [{
      &quot;label&quot;: &quot;hls720p&quot;,
      &quot;live_stream&quot;: true,
      &quot;height&quot;: 720,
      &quot;video_bitrate&quot;: 2000,
      &quot;segment_seconds&quot;: 6,
      &quot;keyframe_interval&quot;: 60
  },
  {
      &quot;label&quot;: &quot;hls480p&quot;,
      &quot;live_stream&quot;: true,
      &quot;height&quot;: 480,
      &quot;video_bitrate&quot;: 1000,
      &quot;segment_seconds&quot;: 6,
      &quot;keyframe_interval&quot;: 60
  }
}</code></pre>

    <details>
      <summary><h2>Exemple de réponse</h2></summary>
      <p>La ligne en surbrillance contient la vidéo <code translate="No">id</code> dont vous avez besoin pour ajouter le <code translate="No">playback_rights_id</code></p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;id&quot;: &quot;f47487cf81f84764b280fbfaefed524a&quot;,
  &quot;outputs&quot;: [
      {
          &quot;id&quot;: &quot;0-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;label&quot;: &quot;hls720p&quot;
      },
      {
          &quot;id&quot;: &quot;1-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;label&quot;: &quot;hls480p&quot;
      },
      {
          &quot;id&quot;: &quot;2-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;playlist_type&quot;: &quot;defaultS3&quot;,
          &quot;type&quot;: &quot;playlist&quot;,
          &quot;drm&quot;: {
              &quot;token&quot;: &quot;eyJh...axy8&quot;,
              &quot;modes&quot;: [
                  {
                      &quot;type&quot;: &quot;fairplay&quot;,
                      &quot;key_system&quot;: &quot;com.apple.fps.1_0&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJh...axy8&quot;,
                      &quot;certificate_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist_fp.m3u8&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_fp_dvr.m3u8&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8&quot;,
                      &quot;playback_added_cdns&quot;: []
                  },
                  {
                      &quot;type&quot;: &quot;widevine&quot;,
                      &quot;key_system&quot;: &quot;com.widevine.alpha&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist_wv.m3u8&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_wv_dvr.m3u8&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8&quot;,
                      &quot;playback_added_cdns&quot;: []
                  },
                  {
                      &quot;type&quot;: &quot;playready&quot;,
                      &quot;key_system&quot;: &quot;com.microsoft.playready&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist.mpd&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_dvr.mpd&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd&quot;,
                      &quot;playback_added_cdns&quot;: []
                  }
              ],
              &quot;token_expires_in&quot;: 43200,
              &quot;require_playback_token&quot;: true,
              &quot;check_playback_rights&quot;: true
          }
      }
  ],
  &quot;stream_url&quot;: &quot;rtmp://ep8-usw2.a-live.io:1935/f47487cf81f84764b280fbfaefed524a&quot;,
  &quot;stream_name&quot;: &quot;alive&quot;,
  &quot;static&quot;: false,
  &quot;event_length&quot;: 93600,
  <span class="bcls-highlight">&quot;job_videocloud_asset_id&quot;: &quot;70701312966202&quot;,</span>
  &quot;encryption&quot;: {},
  &quot;drm_enabled&quot;: true,
  &quot;drm&quot;: {
    &quot;token&quot;: &quot;eyJh...axy8&quot;,
    &quot;modes&quot;: [
      {
        &quot;type&quot;: &quot;fairplay&quot;,
        &quot;key_system&quot;: &quot;com.apple.fps.1_0&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJhb...axy8&quot;,
        &quot;certificate_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJhb...axy8&quot;,
        &quot;filename&quot;: &quot;playlist_fp.m3u8&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_fp_dvr.m3u8&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8&quot;,
        &quot;playback_added_cdns&quot;: []
      },
      {
        &quot;type&quot;: &quot;widevine&quot;,
        &quot;key_system&quot;: &quot;com.widevine.alpha&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJhb...axy8&quot;,
        &quot;filename&quot;: &quot;playlist_wv.m3u8&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_wv_dvr.m3u8&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8&quot;,
        &quot;playback_added_cdns&quot;: []
      },
      {
        &quot;type&quot;: &quot;playready&quot;,
        &quot;key_system&quot;: &quot;com.microsoft.playready&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8&quot;,
        &quot;filename&quot;: &quot;playlist.mpd&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_dvr.mpd&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd&quot;,
        &quot;playback_added_cdns&quot;: []
      }
    ],
    &quot;token_expires_in&quot;: 43200,
    &quot;require_playback_token&quot;: true,
    &quot;check_playback_rights&quot;: true
  }
}</code></pre>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="Add_restrictions_to_the_live_job">Ajouter des restrictions au travail en direct</h2>
    <p>Après avoir créé le flux en direct, vous pouvez ajouter des restrictions de lecture à la vidéo créée pour le travail en direct à l'aide du <a href="https://apis.support.brightcove.com/cms/getting-started/overview-cms-api.html">API CMS</a>.</p>
    
    <h3>Demande d'API CMS</h3>
    <p>Pour ajouter l'ID des droits de lecture à la vidéo, envoyez une requête de mise à <a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">jour vidéo</a> à l'API CMS avec le corps de requête suivant :</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
	"playback_rights_id": "<span class="bcls-input">your playback_rights_id</span>"
}</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Deliver_the_stream">Diffusez le flux</h2>
    <p>Si vous utilisez le lecteur Web Brightcove ou l'un des SDK du lecteur natif Brightcove pour diffuser le flux en direct, la mise en œuvre des restrictions de lecture est la même que pour la VOD. Voir ce qui suit :</p>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/implementing-playback-rights.html#Configure_your_player">Configurez votre lecteur</a> section du document Implémentation des droits de lecture</li>
    </ul>
  </section>
</article>